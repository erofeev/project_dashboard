# Cursor Rules –¥–ª—è PWA Project Analytics

## –ö–û–ù–¢–ï–ö–°–¢ –ü–†–û–ï–ö–¢–ê
‚ùó **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—á–∏—Ç–∞–π PROJECT_CONTEXT.md –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã** ‚ùó
–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞.

## –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ê–í–ò–õ–ê (–ù–ï –ù–ê–†–£–®–ê–¢–¨)

### UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã PrimeNG** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ MCP —Å–µ—Ä–≤–µ—Ä: `mcp_primeng_get_primeng_component`
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://primeng.org/
- –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ PrimeNG

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨)
- **–ù–ï –£–î–ê–õ–Ø–ô–¢–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω—è–π—Ç–µ
- **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ª–æ–≥–∏–∫—É –ø—Ä–æ–∫—Å–∏**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π URL ‚Üí –∞–≤—Ç–æ–∑–∞–º–µ–Ω–∞ –≤ ERMService ‚Üí –ø—Ä–æ–∫—Å–∏
- **–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –≤ PouchDB**, –ù–ï –≤ localStorage  
- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ERM –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î**, time_entries - —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ –ø–æ –≤—ã–±–æ—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3D —Ñ–æ–Ω
- **–ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ –ø–∞–¥–∞—é—â–∏–µ –∫–∞–ø–ª–∏**: `enableDroplets: false`
- –†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫: `particleSize: 4.0`
- –ö–∞–º–µ—Ä–∞ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∞: `camera.position.set(0, 15, 12)`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- PouchDB —Å 5 –±–∞–∑–∞–º–∏: users, projects, time_entries, invoices, payments, activities
- SystemCalendar –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å CouchDB –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–ª—è development

## MCP –°–ï–†–í–ï–†–´

### PrimeNG MCP –°–µ—Ä–≤–µ—Ä  
–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- `mcp_primeng_get_primeng_component` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
- `mcp_primeng_get_all_primeng_components` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `mcp_primeng_search_primeng_components` - –ø–æ–∏—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `mcp_primeng_get_primeng_component_documentation` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `mcp_primeng_get_primeng_component_example` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### PouchDB MCP –°–µ—Ä–≤–µ—Ä
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î:
- `mcp_pouchdb_get_all_users`, `mcp_pouchdb_create_user`
- `mcp_pouchdb_get_database_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –±–∞–∑
- `mcp_pouchdb_query_documents` - Mango –∑–∞–ø—Ä–æ—Å—ã

### EasyRedmine MCP –°–µ—Ä–≤–µ—Ä  
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- `mcp_easyredmine_get_projects`, `mcp_easyredmine_get_users`
- `mcp_easyredmine_get_time_entries` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- `mcp_easyredmine_get_issues` - –∑–∞–¥–∞—á–∏ (–¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

## –°–¢–ò–õ–ò –ò –î–ò–ó–ê–ô–ù

### Glassmorphism UI
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π glassmorphism –¥–∏–∑–∞–π–Ω –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π
- –°—Ç–∏–ª–∏: —Ä–∞–∑–º—ã—Ç–∏–µ, —Ç–µ–Ω–∏, glow —ç—Ñ—Ñ–µ–∫—Ç—ã, –Ω–æ —É—Ç–æ–Ω—á–µ–Ω–Ω–æ, –Ω–µ –∫—Ä–∏—á–∞—â–µ
- –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω: Sakai Template –¥–ª—è PrimeNG
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@primeuix/themes` –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏

### –Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ toggle –∫–Ω–æ–ø–∫–∏

## ANGULAR BEST PRACTICES

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- Angular 18+ —Å TypeScript
- Signals –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- Standalone –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- Inject() —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è DI

### –¢–∏–ø–∏–∑–∞—Ü–∏—è
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –∏–∑–±–µ–≥–∞—Ç—å `any`
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- Optional chaining (`?.`) –∏ nullish coalescing (`??`)

### –§–∞–π–ª–æ–≤–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- kebab-case –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
- `*.component.ts`, `*.service.ts`, `*.pipe.ts`
- –ò–º–ø–æ—Ä—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ: Angular core ‚Üí RxJS ‚Üí Angular modules ‚Üí App imports ‚Üí Relative imports

## –¢–ï–ö–£–©–ò–ï –ó–ê–î–ê–ß–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–û—Ç–ª–∞–¥–∏—Ç—å ERM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - —Ç–µ–∫—É—â–∞—è –æ—à–∏–±–∫–∞ 500 Internal Server Error
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ ERM
3. –£–ª—É—á—à–∏—Ç—å glassmorphism —Å—Ç–∏–ª–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö ERM
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ 3D —Ñ–æ–Ω–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

## –ö–û–ú–ê–ù–î–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò

```bash
npm start              # Angular dev server —Å CORS –ø—Ä–æ–∫—Å–∏
npm run build          # –ü—Ä–æ–¥–∞–∫—à–Ω —Å–±–æ—Ä–∫–∞  
npm run start:couchdb  # CouchDB (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
```

## –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –û–ö–†–£–ñ–ï–ù–ò–Ø

### CORS –ü—Ä–æ–∫—Å–∏
```json
// proxy.conf.json
{
  "/api/erm/*": {
    "target": "https://easyredmine.awara.pro", 
    "secure": false,  // SSL –ø—Ä–æ–±–ª–µ–º—ã
    "changeOrigin": true
  }
}
```

### ERM –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **URL**: https://easyredmine.awara.pro  
- **API Key**: 763c9fa14fcc0343773389494e8ba3004ef3cd65
- **–ü—Ä–æ–∫—Å–∏**: http://localhost:4200/api/erm/*

---

## üö® –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï –î–õ–Ø AI
- –ß–∏—Ç–∞–π PROJECT_CONTEXT.md –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
- –ù–ï —É–¥–∞–ª—è–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è  
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π PrimeNG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü—Ä–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –æ–±–Ω–æ–≤–ª—è–π PROJECT_CONTEXT.md
- –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞–¥–∞—á–∞: —Ä–µ—à–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 500 –≤ ERM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª: 2025-01-20*

