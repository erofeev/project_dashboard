<div class="admin-panel" *ngIf="!isAccessDenied; else accessDenied">
  <div class="admin-header">
    <mat-card class="header-card">
      <div class="header-content">
        <div class="header-icon">
          <mat-icon>admin_panel_settings</mat-icon>
        </div>
        <div class="header-text">
          <h1>Администрирование системы</h1>
          <p>Управление системой, пользователями и интеграциями</p>
        </div>
      </div>
    </mat-card>
  </div>

  <div class="admin-content">
    <mat-card class="content-card">
      <mat-tab-group animationDuration="300ms" class="admin-tabs">
        
        <!-- Вкладка обновления данных из ЕРМ -->
        <mat-tab label="Обновление данных из ЕРМ">
          <div class="tab-content">
            <app-erm-data-update></app-erm-data-update>
          </div>
        </mat-tab>

        <!-- Вкладка управления пользователями -->
        <mat-tab label="Управление пользователями">
          <div class="tab-content">
            <app-user-management></app-user-management>
          </div>
        </mat-tab>

        <!-- Вкладка системных настроек -->
        <mat-tab label="Системные настройки">
          <div class="tab-content">
            <app-system-settings></app-system-settings>
          </div>
        </mat-tab>

      </mat-tab-group>
    </mat-card>
  </div>
</div>

<!-- Шаблон для отказа в доступе -->
<ng-template #accessDenied>
  <div class="access-denied">
    <mat-card class="denied-card">
      <div class="denied-content">
        <mat-icon class="denied-icon">block</mat-icon>
        <h2>Доступ запрещен</h2>
        <p>У вас нет прав для доступа к разделу администрирования.</p>
        <p>Для получения доступа обратитесь к системному администратору.</p>
        <button mat-raised-button color="primary" routerLink="/">
          Вернуться на главную
        </button>
      </div>
    </mat-card>
  </div>
</ng-template>
