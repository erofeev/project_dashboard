# PWA Project Analytics - –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è AI —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üéØ –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π, –≤–∫–ª—é—á–∞—é—â–µ–µ:

1. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞–≤–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ä–ø–ª–∞—Ç/—Ä–µ–π—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –¥–∞—Ç–∞–º–∏ –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
2. **3D –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–∞–Ω–¥—à–∞—Ñ—Ç-—Ñ–æ–Ω** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–µ—Ç–∫–∞ —Ç–æ—á–µ–∫ —Å –≤–æ–ª–Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π (–ë–ï–ó –ø–∞–¥–∞—é—â–∏—Ö –∫–∞–ø–µ–ª—å)
3. **Premium Glassmorphism UI** - –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π (—É—Ç–æ–Ω—á–µ–Ω–Ω—ã–π, –Ω–µ –∫—Ä–∏—á–∞—â–∏–π)
4. **–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã –ø–æ –º–µ—Å—è—Ü–∞–º —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PouchDB –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. **ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–ü–†–ò–û–†–ò–¢–ï–¢)** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ EasyRedmine –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Angular 18+** —Å TypeScript
- **PrimeNG 20+** –¥–ª—è –≤—Å–µ—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PrimeNG!)
- **Sakai Template** –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–∏–∑–∞–π–Ω–∞
- **PouchDB** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Three.js** –¥–ª—è 3D —Ñ–æ–Ω–∞
- **@primeuix/themes** –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ç–µ–º

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

#### Core Services
- `PouchDBService` - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ë–î —Å –º–µ—Ç–æ–¥–∞–º–∏:
  - `initializeDatabases()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 5 –ë–î: users, projects, time_entries, invoices, payments, activities
  - `getSystemCalendar()`, `saveSystemCalendar()` - —Ä–∞–±–æ—Ç–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  - `upsertDocument()`, `getDocument()`, `deleteDocument()`, `clearDatabase()` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
  - **–í–ê–ñ–ù–û**: –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å CouchDB –¥–ª—è development

- `ConfigService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:
  - `UserRate` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å `startDate`/`endDate` –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞–≤–æ–∫
  - `getERMConfig()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π URL** (https://easyredmine.awara.pro)
  - `getRatesForDate()` - —Ä–∞—Å—á–µ—Ç —Å—Ç–∞–≤–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É

- `ERMService` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å EasyRedmine:
  - `getBaseUrl()` - **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç –≤–Ω–µ—à–Ω–∏–µ URL –Ω–∞ `/api/erm` –¥–ª—è –ø—Ä–æ–∫—Å–∏**
  - `extractUsersFromIssues()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ "–Ω–∞—à–∏—Ö" —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –∑–∞–¥–∞—á (–∫–∞–∫ –≤ Excel –º–∞–∫—Ä–æ—Å–µ)
  - `executeLoadingStrategy()` - 3 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏: `'projects'`, `'users'`, `'full'`
  - `saveMasterDataToDB()` - –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (users, projects, activities)
  - `saveSelectedDataToDB()` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç time_entries —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–µ–∫—Ç–æ–≤
  - `testConnection()` - —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `getProjects(1, 0)`

- `InitializationService` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
  - **–ö–†–ò–¢–ò–ß–ù–û**: –≤—ã–∑—ã–≤–∞–µ—Ç `await this.pouchDBService.initializeDatabases()` –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
  - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å **—Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º URL**: `baseUrl: 'https://easyredmine.awara.pro'`

- `Three3DService` - 3D —Ñ–æ–Ω:
  - `enableDroplets: false` - –∫–∞–ø–ª–∏ –û–¢–ö–õ–Æ–ß–ï–ù–´
  - `particleSize: 4.0` - —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫
  - –∫–∞–º–µ—Ä–∞ –±–ª–∏–∂–µ: `camera.position.set(0, 15, 12)`

### CORS –ø—Ä–æ–∫—Å–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### proxy.conf.json
```json
{
  "/api/erm/*": {
    "target": "https://easyredmine.awara.pro",
    "secure": false,  // –í–ê–ñ–ù–û: –æ—Ç–∫–ª—é—á–µ–Ω–æ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
    "changeOrigin": true,
    "logLevel": "debug",
    "pathRewrite": { "^/api/erm": "" }
  }
}
```

#### angular.json
```json
"development": {
  "proxyConfig": "proxy.conf.json"
}
```

### ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –ª–æ–≥–∏–∫–∞ –∏–∑ Excel –º–∞–∫—Ä–æ—Å–∞

#### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
1. **"Quick Load Master Data"** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ (users, projects, activities) + –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
2. **"Load by Projects"** - –ø–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã ‚Üí –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–ª—É—á–∞–µ–º time_entries
3. **"Quick Time Entries for Users"** - –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ–ª—É—á–∞–µ–º –∏—Ö time_entries –∑–∞ –ø–µ—Ä–∏–æ–¥

#### –°–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏** (users, projects, activities) - –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª–Ω–æ—Å—Ç—å—é
- **Time entries** - —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–ø—Ä–æ–µ–∫—Ç–æ–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ UI

#### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ "–Ω–∞—à–∏—Ö" —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```typescript
// –ò–∑–≤–ª–µ–∫–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö issues (–∫–∞–∫ –≤ Excel –º–∞–∫—Ä–æ—Å–µ)
const issues = await this.getIssues();
const users = this.extractUsersFromIssues(issues);
```

## üé® UI/UX –î–ò–ó–ê–ô–ù

### Glassmorphism Theme
- –ü—Ä–∏–º–µ–Ω–µ–Ω –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É Settings: `src/app/features/settings/settings.component.scss`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Sakai template –∫–∞–∫ –æ—Å–Ω–æ–≤–∞
- **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–µ–º PrimeNG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –ø—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ MCP server

### 3D Background
- –°–µ—Ç–∫–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ –±–µ–∑ –∫–∞–ø–µ–ª—å
- –†–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫: 4.0
- –ö–∞–º–µ—Ä–∞ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è

### MCP —Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è PrimeNG
```json
{
  "mcpServers": {
    "primeng": {
      "command": "node",
      "args": ["./dist/index.js"],
      "cwd": "infrastructure/mcp-server/primeng-mcp-server"
    }
  }
}
```

## ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] PouchDB —Å 5 –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] SystemCalendar –¥–ª—è –æ–±—â–∏—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [x] –û—Ç–∫–ª—é—á–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å CouchDB –¥–ª—è development
- [x] CRUD –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

### ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
- [x] CORS –ø—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`secure: false` –¥–ª—è SSL –ø—Ä–æ–±–ª–µ–º)
- [x] –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ issues
- [x] 3 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] –°–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [x] UI –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
- [x] –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ERM

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] Settings –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- [x] Glassmorphism —Å—Ç–∏–ª–∏ –¥–ª—è Settings
- [x] –ö–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- [x] –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [x] –°—Ç–∞—Ç—É—Å –ø–∞–Ω–µ–ª—å ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### 3D —Ñ–æ–Ω
- [x] Three.js —Å–µ—Ç–∫–∞ —Ç–æ—á–µ–∫
- [x] –í–æ–ª–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
- [x] –û—Ç–∫–ª—é—á–µ–Ω—ã –ø–∞–¥–∞—é—â–∏–µ –∫–∞–ø–ª–∏  
- [x] –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–æ—á–∫–∏ –¥–æ —Ä–∞–∑–º–µ—Ä–∞ 4.0
- [x] –ö–∞–º–µ—Ä–∞ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∞

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### 1. CORS –æ—à–∏–±–∫–∏ —Å EasyRedmine
**–ü—Ä–æ–±–ª–µ–º–∞**: `Access to XMLHttpRequest blocked by CORS policy`
**–†–µ—à–µ–Ω–∏–µ**: 
- –ù–∞—Å—Ç—Ä–æ–µ–Ω Angular proxy `/api/erm/*` ‚Üí `https://easyredmine.awara.pro`
- `secure: false` –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º
- –í –∫–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –≤–Ω–µ—à–Ω–∏—Ö URL –Ω–∞ –ø—Ä–æ–∫—Å–∏

### 2. SSL Certificate –ø—Ä–æ–±–ª–µ–º—ã
**–ü—Ä–æ–±–ª–µ–º–∞**: `SSL certificate problem: unable to get local issuer certificate`
**–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `"secure": false` –≤ proxy.conf.json

### 3. –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏e —Å—Ç–∞–≤–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ë—ã–ª–∏ –æ—à–∏–±–∫–∏ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `UserRate`
**–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω –Ω–∞ `startDate`/`endDate` –≤–º–µ—Å—Ç–æ `dateFrom`

### 4. PouchDB –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞**: `–ë–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞`
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω —è–≤–Ω—ã–π `await this.pouchDBService.initializeDatabases();`

## üéØ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –ò –ó–ê–î–ê–ß–ò

### –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ URL –≤ ERM —Å–µ—Ä–≤–∏—Å
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω CORS –ø—Ä–æ–∫—Å–∏ —Å `secure: false`
- ‚ö†Ô∏è –ü–æ–ª—É—á–µ–Ω–∞ –æ—à–∏–±–∫–∞ 500 Internal Server Error –ø—Ä–∏ —Ç–µ—Å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- üîÑ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. **–ü–†–ò–û–†–ò–¢–ï–¢**: –û—Ç–ª–∞–¥–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ERM API (–æ—à–∏–±–∫–∞ 500)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
4. –£–ª—É—á—à–∏—Ç—å glassmorphism —Å—Ç–∏–ª–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
5. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö ERM

## üìã –ü–†–ê–í–ò–õ–ê –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –ö–†–ò–¢–ò–ß–ù–´–ï –ü–†–ê–í–ò–õ–ê (–ù–ï –ù–ê–†–£–®–ê–¢–¨):
1. **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PrimeNG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —á–µ—Ä–µ–∑ MCP server
2. **–ù–ï –£–î–ê–õ–Ø–ô–¢–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - —Ç–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω—è–π—Ç–µ
3. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–∫—Å–∏**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π URL ‚Üí –∞–≤—Ç–æ–∑–∞–º–µ–Ω–∞ ‚Üí –ø—Ä–æ–∫—Å–∏
4. **–ù–ï –≤–∫–ª—é—á–∞–π—Ç–µ –ø–∞–¥–∞—é—â–∏–µ –∫–∞–ø–ª–∏** –≤ 3D —Ñ–æ–Ω–µ (`enableDroplets: false`)
5. **–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –≤ PouchDB**, –ù–ï –≤ localStorage
6. **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –í–°–ï–ì–î–ê —Å–æ—Ö—Ä–∞–Ω—è–µ–º**, time_entries - —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨):
```
src/app/
‚îú‚îÄ‚îÄ core/services/
‚îÇ   ‚îú‚îÄ‚îÄ pouchdb.service.ts        # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ config.service.ts         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ erm.service.ts           # EasyRedmine API  
‚îÇ   ‚îú‚îÄ‚îÄ initialization.service.ts # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ three3d.service.ts       # 3D —Ñ–æ–Ω
‚îú‚îÄ‚îÄ features/settings/           # UI –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ settings.component.ts    # ERM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI
‚îÇ   ‚îú‚îÄ‚îÄ settings.component.html  # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ + –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ settings.component.scss  # Glassmorphism —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ components/animated-landscape/ # 3D —Ñ–æ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
proxy.conf.json                   # CORS –ø—Ä–æ–∫—Å–∏
angular.json                       # –ö–æ–Ω—Ñ–∏–≥ —Å –ø—Ä–æ–∫—Å–∏
```

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–∞–Ω–Ω—ã—Ö (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨):
```typescript
// –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞–≤–∫–∏
interface UserRate {
  startDate: Date | string;
  endDate?: Date | string | null;
  grossPerMonth?: number;
  hourlyRate?: number;
}

// ERM –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  
interface ERMConfig {
  baseUrl: string;  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π URL
  apiKey: string;
  startDate: string;
  endDate: string;
}

// –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
interface SystemCalendar {
  _id: string;
  year: number;
  monthlyHours: { [monthKey: string]: number };
  lastUpdated: string;
}
```

## üîß –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ó–ê–ü–£–°–ö–ê

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm start                    # Angular + –ø—Ä–æ–∫—Å–∏
npm run build               # –ü—Ä–æ–¥–∞–∫—à–Ω —Å–±–æ—Ä–∫–∞

# –û—Ç–ª–∞–¥–∫–∞
npm run start:couchdb       # CouchDB (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
```

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ò –°–°–´–õ–ö–ò

- **EasyRedmine**: https://easyredmine.awara.pro
- **API Key**: 763c9fa14fcc0343773389494e8ba3004ef3cd65
- **–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç**: http://localhost:4200
- **–ü—Ä–æ–∫—Å–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç**: http://localhost:4200/api/erm/*

---

**‚ö†Ô∏è –í–ê–ñ–ù–û –î–õ–Ø AI –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê**: 
- –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ü–û–õ–ù–´–ô –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞
- –ù–ï —É–¥–∞–ª—è–π—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ MCP server –¥–ª—è PrimeNG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã - –æ–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª
- –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –æ—à–∏–±–∫–∞ 500 –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ ERM —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-20, —Å—Ç–∞—Ç—É—Å: –æ—Ç–ª–∞–¥–∫–∞ ERM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*
